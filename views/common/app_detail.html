<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link href="/stylesheets/app_detail.css" rel="stylesheet">

<div id="appModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="margin-left: -400px;">
  <div class="modal-header" >
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
    <div class="headLeft">
      <img id="appIcon" src="">
    </div>
    <div class="headMiddle">
      <h3 id="appName"></h3>
      <br>
      <span id="appVersion"></span>
      <span class="sep"></span>
      <span id="appScore">
      </span>
      <span id="userCount"></span>
      <span class="sep"></span>
      <span id="appCategory"></span>
      <span class="sep"></span>
      <span id="devicetType"></span>
    </div>
    <div class="headRight">
      <a id="downloadBtn" class="btn btn-default btn-success">
        <i class="icon-plus"></i>&nbsp 安装
      </a>
      <a id="shareBtn" class="btn btn-default btn-success">
        <i class="icon-share-alt"></i>&nbsp 分享
      </a>
    </div>
  </div>
  <div id="modal-body" class="modal-body" >
    <ul class="nav nav-tabs">
      <li class="active">
        <a id="profileTab" href="#profile" data-toggle="tab">概要</a>
      </li>
      <li>
      <li>
        <a href="#detail" data-toggle="tab">详细</a>
      </li>
      <li>
        <a href="#require" data-toggle="tab">系统要求</a>
      </li>
      <li>
        <a href="#update" data-toggle="tab">更新履历</a>
      </li>
      <li>
        <a href="#comment" data-toggle="tab">评价</a>
      </li>
    </ul>

    <div class="tab-content">
      <div class="tab-pane active" id="profile">
        <div class="profile-image">
          <div id="gallery">
          </div>
        </div>
        <div class="profile-info">
          <div class="itemTable">
            <div><label>更新</label><div id="lastUpdate"></div></div>
            <div><label>版权所有</label><div id="copyright"></div></div>
            <div><label>大小</label><div id="appSize"></div></div>
            <div><label>下载量</label><div id="downloadCount"></div></div>
          </div>
        </div>
      </div>
      <div class="tab-pane" id="detail">
        <div id="detailContent" class="textarea-big">
        </div>
      </div>
      <div class="tab-pane" id="require">
        <div id="requireContent" class="textarea-big">
        </div>
      </div>
      <div class="tab-pane" id="update">
        <div id="updateContent" class="textarea-big">
        </div>
      </div>
      <div class="tab-pane" id="comment">
        <div class="comment">
          <span><i class="icon-pencil"></i>&nbsp;コメントを書く</span>
          <textarea id="comment_text"></textarea>
          <div id="operationarea">
            <i class="icon-star-empty icon-large" rank="1"></i>
            <i class="icon-star-empty icon-large" rank="2"></i>
            <i class="icon-star-empty icon-large" rank="3"></i>
            <i class="icon-star-empty icon-large" rank="4"></i>
            <i class="icon-star-empty icon-large" rank="5"></i>
            &nbsp;
            <input type="hidden" id="comment_rank" value="0">
            <button class="btn btn-small btn-success" type="button" id="comment_commit" disabled="disabled">コメント</button>
          </div>
          <div class="btn-group" id="commentRange">
            <button type="button" class="btn btn-small" value="current">最新</button>
            <button type="button" class="btn btn-small" value="before">以前</button>
          </div>
          <ul id="comment_list">
          </ul>
          <div id="pagination" class="pagination pagination-mini pagination-centered"></div>
        </div>
      </div>
    </div>
  </div>
</div>

<script type="text/template" id="score-template">
  <$ var f = Math.floor(avg), s = avg - Math.floor(avg); for (var i = 0; i < 5; i++) { $>
  <$ if (i < f) { $>
  <i class="icon-star"></i>
  <$ } else if (i == f && s <= 0.3 ) { $>
  <i class="icon-star-empty"></i>
  <$ } else if (i == f && s > 0.3 && s < 0.7 ) { $>
  <i class="icon-star-half-empty"></i>
  <$ } else if (i == f && s >= 0.7 ) { $>
  <i class="icon-star"></i>
  <$ } else if (i > f) { $>
  <i class="icon-star-empty"></i>
  <$ } $>
  <$ } $>
</script>

<script type="text/template" id="gallery-template">
  <img src="/picture/{{imgId}}" />
</script>

<script type="text/template" id="comment-template">
  <li >
    <img class="portrait" src="/images/user.png">
    <span>{{createBy}}</span>&nbsp;
    <span>{{rank}}</span>&nbsp;
    <span>{{createAt}}</span>
    <span>(&nbsp;v{{version}}&nbsp;)</span>
    <p>{{comment}}</p>
  </li>
</script>

<script type="text/template" id="require-template">
  <h5>系统要求</h5>
  {{requireOS}}
  <br><br>
  <h5>硬件要求</h5>
  {{requireDevice}}
</script>

<script src="/javascripts/sw/sw.comment.js"></script>
<script src="/javascripts/sw/sw.stardetail.js"></script>

